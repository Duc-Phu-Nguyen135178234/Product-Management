extends ../../layouts/defaults.pug
include ../../mixins/filter-status.pug 
include ../../mixins/search.pug 
include ../../mixins/pagination.pug
include ../../mixins/box-actions.pug

block content
    - if (messages.success)
    div(
      class="alert alert-success show-alert"
      show-alert="3000"
    ) #{messages.success}

    h1(class="mb-4") List of Products
        .card.mb-3
            .card-header Search and Filter
            .card-body
                .row
                    .col-6
                        +filter-status(filterStatus)
                        
                    .col-6
                        +search(keyword)
        .card.mb-3
            .card-header Active
            .card-body
                +box-actions(`/${prefixAdmin}/products/change-multi`)
            
        .card.mb-3
            .card-header Products
            .card-body
                div(class="text-right mb-2")
                    a(
                    href=`/${prefixAdmin}/products/create`
                    class="btn btn-outline-success"
                ) + Add Items

                table.table.table-hover.table-sm
                    thead
                    tr
                        th
                            input(name="checkAll" type="checkbox")
                        th STT
                        th Picture
                        th Description
                        th Price
                        th Position
                        th Status
                        th Active
                    tbody
                    each item, index in products
                        tr 
                        td
                            input(
                                name="checkItem" 
                                type="checkbox"
                                value=item.id
                            )
                        td #{index+1}
                        td
                            img(
                            src=item.thumbnail
                            alt=item.title
                            width="80px"
                            height="auto"
                            )
                        td #{item.title}
                        td #{item.price}$
                        td
                            input(
                            link=`/${prefixAdmin}/products/change-position/${item.id}`
                            type="number"
                            name="position"
                            value=item.position
                            style="width: 90px"
                            min="1"
                            )
                        td
                            if(item.status == "active")
                                button(
                                    link=`/${prefixAdmin}/products/change-status/inactive/${item.id}`
                                    class="badge badge-success"
                                    button-change-status
                                ) Active
                            else
                                button(
                                    link=`/${prefixAdmin}/products/change-status/active/${item.id}`
                                    class="badge badge-danger"
                                    button-change-status
                                ) Inactive
                        td
                            button(class="btn btn-warning btn-sm") Sá»­a
                            button(
                                class="btn btn-danger btn-sm ml-1"
                                button-delete=`/${prefixAdmin}/products/delete/${item.id}`
                            ) Delete

            +pagination(pagination)